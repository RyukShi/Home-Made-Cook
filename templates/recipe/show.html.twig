{% extends 'base.html.twig' %}

{% block title %}Recipe{% endblock %}

{% block body %}
    <h1>{{ recipe.name|upper }}</h1>

    <div>
        {% if recipe.imageFile is not null %}
            <img src="{{ 'uploads/images/recipes/' ~ recipe.image }}" alt="{{ recipe.name }}">
        {% endif %}
        <p>{{ recipe.description }}</p>
        <ul>
            {% for ingredient in recipe.ingredients %}
                <li>{{ ingredient.name ~ ' ' ~ ingredient.quantity ~ ingredient.unit }}</li>
            {% endfor %}
        </ul>
    </div>

    {% if app.user %}
        {{ form_start(favorite_form) }}
            {{ form_row(favorite_form.submit) }}
        {{ form_end(favorite_form) }}
    {% endif %}

    <a href="{{ path('app_recipe_index') }}">back to list</a>

    {% if is_cooker %}
        <a href="{{ path('app_recipe_edit', {'id': recipe.id}) }}">Edit my recipe</a>
        {{ include('recipe/_delete_form.html.twig') }}
    {% endif %}
{% endblock %}
